{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cau\\xE3 Bonfim\\\\Desktop\\\\ConnectVagas\\\\frontend\\\\src\\\\pages\\\\Candidatura\\\\candidatura.js\",\n  _s = $RefreshSig$();\nimport api from \"../../services/api\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n// import styles from \"./uploadvaga.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CandidaturaCandidato() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [vaga, setVaga] = useState(null);\n  const [curriculo, setCurriculo] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"É necessário estar logado\");\n      navigate(\"/login/candidato\");\n      return;\n    }\n    const buscarVaga = async () => {\n      try {\n        const response = await api.get(`/candidatura/${id}`);\n        console.log(\"Dados da vaga:\", response.data);\n        setVaga(response.data);\n      } catch (error) {\n        console.error(\"Erro ao buscar vaga:\", error);\n      }\n    };\n    buscarVaga();\n  }, [id]);\n  const handleUpload = e => {\n    setCurriculo(e.target.files[0]);\n  };\n  const handleCandidatar = async e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      alert(\"É necessário estar logado para se candidatar.\");\n      navigate(\"/login/candidato\");\n      return;\n    }\n    if (!curriculo) {\n      alert(\"Envie seu currículo para concluir a candidatura.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"id_vaga\", id);\n    formData.append(\"curriculo\", curriculo);\n    try {\n      await api.post(`/candidatura/${id}`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      alert(\"Candidatura enviada com sucesso!\");\n      navigate(\"/home\");\n    } catch (error) {\n      console.error(\"Erro ao enviar candidatura:\", error);\n      alert(\"Ocorreu um erro ao enviar a candidatura. Tente novamente.\");\n    }\n  };\n  if (!vaga) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Carregando vaga..\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Detalhes da vaga.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Cargo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 16\n      }, this), vaga.cargo]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Descri\\xE7\\xE3o:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 16\n      }, this), vaga.descricao]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Local:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 16\n      }, this), vaga.local_vaga]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Tipo da Vaga:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 16\n      }, this), vaga.tipo_vaga]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Jornada de Trabalho:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 16\n      }, this), vaga.modelo]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Bolsa Aux\\xEDlio:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 16\n      }, this), vaga.bolsa_auxilio]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Envie seu curr\\xEDculo para essa vaga!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCandidatar,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".pdf,.doc,.docx\",\n        onChange: handleUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Enviar Candidatura\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(CandidaturaCandidato, \"440IGCdIdlqNVo7A5J2luSByw/A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CandidaturaCandidato;\nexport default CandidaturaCandidato;\nvar _c;\n$RefreshReg$(_c, \"CandidaturaCandidato\");","map":{"version":3,"names":["api","useEffect","useState","useNavigate","useParams","jsxDEV","_jsxDEV","CandidaturaCandidato","_s","id","navigate","vaga","setVaga","curriculo","setCurriculo","token","localStorage","getItem","alert","buscarVaga","response","get","console","log","data","error","handleUpload","e","target","files","handleCandidatar","preventDefault","formData","FormData","append","post","headers","children","fileName","_jsxFileName","lineNumber","columnNumber","cargo","descricao","local_vaga","tipo_vaga","modelo","bolsa_auxilio","onSubmit","type","accept","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Cauã Bonfim/Desktop/ConnectVagas/frontend/src/pages/Candidatura/candidatura.js"],"sourcesContent":["import api from \"../../services/api\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n// import styles from \"./uploadvaga.module.css\";\r\n\r\nfunction CandidaturaCandidato(){\r\n    const {id} = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [vaga, setVaga] = useState(null);\r\n    const [curriculo, setCurriculo] = useState(null);\r\n\r\n    useEffect(()=>{\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        if(!token){\r\n            alert(\"É necessário estar logado\");\r\n            navigate(\"/login/candidato\")\r\n            return;\r\n        }\r\n\r\n\r\n        const buscarVaga = async ()=>{\r\n            try{\r\n                const response = await api.get(`/candidatura/${id}`);\r\n                console.log(\"Dados da vaga:\", response.data); \r\n                setVaga(response.data)\r\n            }\r\n            catch(error){\r\n                console.error(\"Erro ao buscar vaga:\", error);\r\n            }\r\n        }\r\n\r\n        buscarVaga();\r\n    }, [id])\r\n\r\n    const handleUpload = (e) =>{\r\n        setCurriculo(e.target.files[0]);\r\n    }\r\n\r\n    const handleCandidatar = async (e) =>{\r\n        e.preventDefault();\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        if(!token){\r\n            alert(\"É necessário estar logado para se candidatar.\");\r\n            navigate(\"/login/candidato\");\r\n            return;\r\n        }\r\n\r\n        if(!curriculo){\r\n            alert(\"Envie seu currículo para concluir a candidatura.\")\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"id_vaga\", id);\r\n        formData.append(\"curriculo\", curriculo);        \r\n\r\n        try{\r\n            await api.post(`/candidatura/${id}`, formData, {\r\n                headers:{\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n               \"Authorization\": `Bearer ${token}`,\r\n                }\r\n            })\r\n            alert(\"Candidatura enviada com sucesso!\");\r\n            navigate(\"/home\");\r\n        }   catch (error) {\r\n            console.error(\"Erro ao enviar candidatura:\", error);\r\n            alert(\"Ocorreu um erro ao enviar a candidatura. Tente novamente.\");\r\n        }\r\n    }\r\n\r\n    if(!vaga) return <p>Carregando vaga..</p>\r\n\r\n    return(\r\n        <div>\r\n            <h2>Detalhes da vaga.</h2>\r\n            <p><strong>Cargo:</strong>{vaga.cargo}</p>\r\n            <p><strong>Descrição:</strong>{vaga.descricao}</p>\r\n            <p><strong>Local:</strong>{vaga.local_vaga}</p>\r\n            <p><strong>Tipo da Vaga:</strong>{vaga.tipo_vaga}</p>\r\n            <p><strong>Jornada de Trabalho:</strong>{vaga.modelo}</p>\r\n            <p><strong>Bolsa Auxílio:</strong>{vaga.bolsa_auxilio}</p>\r\n\r\n            <h3>Envie seu currículo para essa vaga!</h3>\r\n            <form onSubmit={handleCandidatar}>\r\n            <input type=\"file\" accept=\".pdf,.doc,.docx\" onChange={handleUpload} />\r\n            <button type=\"submit\">Enviar Candidatura</button>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CandidaturaCandidato;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}