{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cau\\xE3 Bonfim\\\\Desktop\\\\ConnectVagas\\\\frontend\\\\src\\\\pages\\\\ProfileCandidato\\\\index.js\",\n  _s = $RefreshSig$();\nimport api, { atualizarPerfil } from \"../../services/api\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"./perfilCandidato.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProfileCandidato() {\n  _s();\n  const [perfil, setPerfil] = useState(null);\n  const [editar, setEditar] = useState(false);\n  const [telefone, setTelefone] = useState(\"\");\n  const [endereco, setEndereco] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const InfosProfile = async () => {\n      const token = localStorage.getItem(\"token\");\n      console.log(\"Token no LocalStorage:\", token);\n      if (!token) {\n        console.log(\"Nenhum token encontrado. Redirecionando para login...\");\n        navigate(\"/login/candidato\");\n        return;\n      }\n      try {\n        const response = await api.get(\"/candidato/profile\");\n        setPerfil(response.data);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error(\"Erro ao buscar perfil:\", error.response ? error.response.data : error);\n        alert(`Erro ao carregar perfil: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erro desconhecido\"}`);\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"tipoUsuario\");\n        navigate(\"/login/candidato\");\n      }\n    };\n    const vagasCandidatadas = async () => {\n      const token = localStorage.getItem(\"token\");\n      try {\n        const response = await api.get();\n      } catch (error) {\n        console.error(\"Erro ao buscar vagas:\", error);\n      }\n    };\n    InfosProfile();\n  }, [navigate]);\n  const salvarEdicao = async () => {\n    const dadosAtualizados = {\n      telefone,\n      endereco\n    };\n    const resultado = await atualizarPerfil(dadosAtualizados);\n    if (resultado) {\n      setPerfil(resultado);\n      setEditar(false);\n    } else {\n      alert(\"Erro ao atualizar perfil.\");\n    }\n  };\n  if (!perfil) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.containerPerfil,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.profileHeader,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.profileHeaderH2,\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: perfil.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.profileInfos,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: perfil.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 5\n          }, this), editar ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.inputEdit,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: telefone,\n                onChange: e => setTelefone(e.target.value),\n                placeholder: \"Digite seu telefone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: endereco,\n                onChange: e => setEndereco(e.target.value),\n                placeholder: \"Digite seu endere\\xE7o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.divButtons,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: salvarEdicao,\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditar(false),\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Telefone: \", perfil.telefone || \"Não informado\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Endere\\xE7o: \", perfil.endereco || \"Não informado\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.divEdit,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditar(true),\n                className: styles.btnEdit,\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(ProfileCandidato, \"1yNLMcFwAv2uJOkfpdPMgNHRBr8=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileCandidato;\nexport default ProfileCandidato;\nvar _c;\n$RefreshReg$(_c, \"ProfileCandidato\");","map":{"version":3,"names":["api","atualizarPerfil","useEffect","useState","useNavigate","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileCandidato","_s","perfil","setPerfil","editar","setEditar","telefone","setTelefone","endereco","setEndereco","navigate","InfosProfile","token","localStorage","getItem","console","log","response","get","data","error","_error$response","_error$response$data","alert","message","removeItem","vagasCandidatadas","salvarEdicao","dadosAtualizados","resultado","children","fileName","_jsxFileName","lineNumber","columnNumber","className","containerPerfil","profileContainer","profileHeader","profileHeaderH2","nome","profileInfos","email","inputEdit","type","value","onChange","e","target","placeholder","divButtons","onClick","divEdit","btnEdit","_c","$RefreshReg$"],"sources":["C:/Users/Cauã Bonfim/Desktop/ConnectVagas/frontend/src/pages/ProfileCandidato/index.js"],"sourcesContent":["import api, {atualizarPerfil} from \"../../services/api\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styles from \"./perfilCandidato.module.css\";\r\n\r\nfunction ProfileCandidato() {\r\n  const [perfil, setPerfil] = useState(null);\r\n  const [editar, setEditar] = useState(false);\r\n  const [telefone, setTelefone] = useState(\"\");\r\n  const [endereco, setEndereco] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const InfosProfile = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      console.log(\"Token no LocalStorage:\", token);\r\n\r\n      if (!token) {\r\n        console.log(\"Nenhum token encontrado. Redirecionando para login...\");\r\n        navigate(\"/login/candidato\"); \r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await api.get(\"/candidato/profile\");\r\n        setPerfil(response.data);\r\n      } catch (error) {\r\n        console.error(\"Erro ao buscar perfil:\", error.response ? error.response.data : error);\r\n        alert(`Erro ao carregar perfil: ${error.response?.data?.message || \"Erro desconhecido\"}`);\r\n        localStorage.removeItem(\"token\"); \r\n        localStorage.removeItem(\"tipoUsuario\")\r\n        navigate(\"/login/candidato\");\r\n      }\r\n    };\r\n\r\n    const vagasCandidatadas = async () =>{\r\n      const token = localStorage.getItem(\"token\");\r\n      try{\r\n        const response = await api.get()\r\n      }catch(error){\r\n        console.error(\"Erro ao buscar vagas:\", error)\r\n      }\r\n    }\r\n\r\n    InfosProfile();\r\n  }, [navigate]);\r\n\r\n  const salvarEdicao = async () =>{\r\n    const dadosAtualizados = {telefone, endereco};\r\n    const resultado = await atualizarPerfil(dadosAtualizados);\r\n    if(resultado){\r\n      setPerfil(resultado);\r\n      setEditar(false);\r\n    }else{\r\n      alert(\"Erro ao atualizar perfil.\")\r\n    }\r\n  }\r\n\r\n  if (!perfil) {\r\n    return <div>Carregando...</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className={styles.containerPerfil}>\r\n    <div className={styles.profileContainer}>\r\n    <div className={styles.profileHeader}>\r\n    <div className={styles.profileHeaderH2}><h2>{perfil.nome}</h2></div>\r\n    {/* <div><img src=\"/assets/perfil-teste.png\"></img></div> */}\r\n    </div>\r\n\r\n    <div className={styles.profileInfos}>\r\n    <p>{perfil.email}</p>\r\n\r\n    {editar ? (\r\n      <>\r\n      <div className={styles.inputEdit}>\r\n        <input \r\n        type=\"text\"\r\n        value={telefone}\r\n        onChange={(e)=>setTelefone(e.target.value)}\r\n        placeholder=\"Digite seu telefone\"\r\n        />\r\n\r\n      <input\r\n      type=\"text\"\r\n      value={endereco}\r\n      onChange={(e)=>setEndereco(e.target.value)}\r\n      placeholder=\"Digite seu endereço\"\r\n      />\r\n      </div>\r\n\r\n      <div className={styles.divButtons}>\r\n      <button onClick={salvarEdicao}>Salvar</button>\r\n      <button onClick={() => setEditar(false)}>Cancelar</button>\r\n      </div>\r\n      </>\r\n    ) : (\r\n      <>\r\n              <p>Telefone: {perfil.telefone || \"Não informado\"}</p>\r\n              <p>Endereço: {perfil.endereco || \"Não informado\"}</p>\r\n              <div className={styles.divEdit}><button onClick={() => setEditar(true)} className={styles.btnEdit}>Editar</button></div>\r\n      </>\r\n    )}\r\n    </div>\r\n\r\n    </div>\r\n\r\n{/* \r\n    <div className=\"curriculo-header\">\r\n    <h2>Currículo</h2>\r\n    </div> */}\r\n\r\n    </div>\r\n\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProfileCandidato;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}